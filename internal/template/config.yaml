# hal configuration file
# This file controls the behavior of the hal autonomous agent.

# ─────────────────────────────────────────────────────────────────────────────
# Engine Settings
# ─────────────────────────────────────────────────────────────────────────────

# Which AI engine to use for code generation.
# Options: claude, codex, pi
# Default: claude
engine: claude

# Maximum number of iterations for the main loop.
# The loop will stop after this many iterations even if tasks remain.
# Default: 10
maxIterations: 10

# Delay between retries when an iteration fails (e.g., "30s", "1m").
# Default: 30s
retryDelay: 30s

# Maximum number of retries for a failed iteration before giving up.
# Default: 3
maxRetries: 3

# ─────────────────────────────────────────────────────────────────────────────
# Per-Engine Settings (optional)
# ─────────────────────────────────────────────────────────────────────────────
# Configure model and provider overrides for each engine.
# Omit or leave empty to use each engine's own defaults.
#
# engines:
#   claude:
#     model: claude-sonnet-4-20250514
#     timeout: 15m    # Per-session timeout (default: 15m)
#   codex:
#     model: o3
#   pi:
#     provider: anthropic
#     model: claude-sonnet-4-20250514

# ─────────────────────────────────────────────────────────────────────────────
# Auto Pipeline Settings (hal auto)
# ─────────────────────────────────────────────────────────────────────────────

auto:
  # Directory where analysis reports are stored.
  # The auto command looks here for reports to analyze.
  # Default: .hal/reports
  reportsDir: .hal/reports

  # Prefix for branches created by the auto pipeline.
  # Branch names will be: {branchPrefix}{feature-slug}
  # Default: compound/
  branchPrefix: compound/

  # Quality check commands to run after each iteration.
  # These should exit with code 0 on success.
  # Example: ["make test", "make lint", "make vet"]
  # Default: []
  qualityChecks: []

  # Maximum iterations for the auto pipeline loop.
  # This is separate from the main maxIterations setting.
  # Default: 25
  maxIterations: 25
